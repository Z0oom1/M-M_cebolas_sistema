<header class="top-bar">
    <div>
        <h2 class="page-title">Visão Geral</h2>
        <p style="color: var(--text-muted); font-size: 0.85rem; margin-top: 4px;">Bem-vindo, acompanhe o desempenho da M&M Cebolas.</p>
    </div>
    <div style="display: flex; gap: 12px; align-items: center;">
        <div class="status-indicator" style="display: flex; align-items: center; gap: 8px; background: #f0fdf4; padding: 8px 16px; border-radius: 100px; border: 1px solid #dcfce7; color: #166534; font-size: 0.75rem; font-weight: 700;">
            <span style="width: 8px; height: 8px; background: #22c55e; border-radius: 50%; display: inline-block;"></span>
            SISTEMA ONLINE
        </div>
        <div style="background: white; padding: 8px 16px; border-radius: 12px; border: 1px solid var(--border); font-weight: 600; font-size: 0.85rem; color: var(--text-muted);">
            <i class="far fa-calendar-alt" style="margin-right: 8px;"></i> <span id="current-date">--/--/----</span>
        </div>
    </div>
</header>

<div class="kpi-grid">
    <div class="kpi-card">
        <div class="kpi-icon" style="background: #ecfdf5; color: #10b981;"><i class="fas fa-boxes"></i></div>
        <div>
            <small style="color: var(--text-muted); font-weight: 600; text-transform: uppercase; font-size: 0.7rem;">Estoque Total</small>
            <h3 id="dash-stock" style="font-size: 1.5rem; font-weight: 800; margin-top: 4px;">0 Cx</h3>
        </div>
    </div>
    <div class="kpi-card">
        <div class="kpi-icon" style="background: #eff6ff; color: #3b82f6;"><i class="fas fa-hand-holding-usd"></i></div>
        <div>
            <small style="color: var(--text-muted); font-weight: 600; text-transform: uppercase; font-size: 0.7rem;">Receita (Mês)</small>
            <h3 id="dash-revenue" class="text-success" style="font-size: 1.5rem; font-weight: 800; margin-top: 4px;">R$ 0,00</h3>
        </div>
    </div>
    <div class="kpi-card">
        <div class="kpi-icon" style="background: #fff1f2; color: #ef4444;"><i class="fas fa-file-invoice-dollar"></i></div>
        <div>
            <small style="color: var(--text-muted); font-weight: 600; text-transform: uppercase; font-size: 0.7rem;">Despesas</small>
            <h3 id="dash-expenses" class="text-danger" style="font-size: 1.5rem; font-weight: 800; margin-top: 4px;">R$ 0,00</h3>
        </div>
    </div>
    <div class="kpi-card">
        <div class="kpi-icon" style="background: #fffbeb; color: #f59e0b;"><i class="fas fa-coins"></i></div>
        <div>
            <small style="color: var(--text-muted); font-weight: 600; text-transform: uppercase; font-size: 0.7rem;">Lucro Estimado</small>
            <h3 id="dash-profit" style="font-size: 1.5rem; font-weight: 800; margin-top: 4px;">R$ 0,00</h3>
        </div>
    </div>
</div>

<div style="display: grid; grid-template-columns: 2fr 1fr; gap: 24px; margin-bottom: 24px;">
    <div class="panel">
        <div class="panel-header">
            <h4 style="font-weight: 700; font-size: 1rem;">Fluxo de Caixa (Últimos 6 meses)</h4>
        </div>
        <div style="height: 300px; padding: 24px;">
            <canvas id="financeChart"></canvas>
        </div>
    </div>
    <div class="panel">
        <div class="panel-header">
            <h4 style="font-weight: 700; font-size: 1rem;">Estoque por Tipo</h4>
        </div>
        <div style="height: 300px; padding: 24px; display: flex; justify-content: center; align-items: center;">
            <canvas id="stockChart"></canvas>
        </div>
    </div>
</div>

<div class="panel">
    <div class="panel-header">
        <h4 style="font-weight: 700; font-size: 1rem;">Últimas Movimentações</h4>
        <button class="btn-primary" style="padding: 6px 16px; font-size: 0.8rem;" onclick="showSection('estoque')">Ver Todas</button>
    </div>
    <div class="table-container">
        <table class="table-compact">
            <thead>
                <tr>
                    <th>Tipo</th>
                    <th>Produto</th>
                    <th>Descrição</th>
                    <th>Qtd</th>
                    <th>Valor</th>
                    <th>Data</th>
                </tr>
            </thead>
            <tbody id="recent-table-body">
                <!-- Preenchido via JS -->
            </tbody>
        </table>
    </div>
</div>

<style>
    @media (max-width: 1200px) {
        div[style*="grid-template-columns: 2fr 1fr"] {
            grid-template-columns: 1fr !important;
        }
    }
</style>
